<!-- public/profile.html -->
<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Profil Pengguna</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-50 py-10">
  <div class="max-w-2xl mx-auto bg-white p-6 rounded shadow">
    <h2 class="text-2xl font-bold mb-4">Profil Anda</h2>
    <div id="profileContent"></div>
  </div>

  <script>
    fetch('/session')
      .then(res => res.json())
      .then(data => {
        const user = data.user;
        let html = `
          <p><strong>Nama:</strong> ${user.name}</p>
          <p><strong>Username:</strong> ${user.username}</p>
          <p><strong>Email:</strong> ${user.email}</p>
          <p><strong>Role:</strong> ${user.role}</p>
        `;

        if (user.role === 'member') {
          html += `<p><strong>Status Pembayaran:</strong> <span class="font-semibold">${user.status_pembayaran}</span></p>`;
        }

        document.getElementById('profileContent').innerHTML = html;
      });
  </script>
</body>
</html>
